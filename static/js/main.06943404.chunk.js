(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{29:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var n,a=c(7),s=c.n(a),r=c(6),l=c(17),i=c(5),o=c(14),d=c(16),u=function(e){return{type:"currentTodo/SET",payload:e}},j=function(){return{type:"currentTodo/REMOVE"}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"currentTodo/REMOVE":return null;case"currentTodo/SET":return t.payload;default:return e}},h=c(2);!function(e){e.ALL="all",e.ACTIVE="active",e.COMPLETED="completed"}(n||(n={}));var O={query:"",status:n.ALL},f=function(e){return{type:"filter/QUERY",payload:e}},m=function(e){return{type:"filter/SELECT",payload:e}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"filter/SELECT":return Object(h.a)(Object(h.a)({},e),{},{status:t.payload});case"filter/QUERY":return Object(h.a)(Object(h.a)({},e),{},{query:t.payload});default:return e}};c(15),c(11);function v(e){var t,c="https://mate-academy.github.io/react_dynamic-list-of-todos/api"+e+".json";return(t=300,new Promise((function(e){setTimeout(e,t)}))).then((function(){return fetch(c)})).then((function(e){return e.json()}))}var p=function(){return v("/todos")},y="todos/SET",N="todos/FETCH_START",g="todos/FETCH_SUCCESS",E="todos/FETCH_FAILURE",T=function(e){return{type:y,payload:e}},L=T,C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[],isLoading:!1,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(h.a)(Object(h.a)({},e),{},{data:t.payload,isLoading:!1,error:null});case N:return Object(h.a)(Object(h.a)({},e),{},{isLoading:!0,error:null});case g:return Object(h.a)(Object(h.a)({},e),{},{isLoading:!1,error:null});case E:return Object(h.a)(Object(h.a)({},e),{},{isLoading:!1,error:t.payload});default:return e}},S=Object(i.combineReducers)({currentTodo:b,filter:x,todos:C}),w=Object(i.createStore)(S,Object(o.composeWithDevTools)(Object(i.applyMiddleware)(d.a))),k=c(4),A=c(0),I=(c(26),c(27),c(12)),_=c.n(I),M=r.b,R=r.c,D=c(1),F=function(){var e=R((function(e){return e.todos})),t=R((function(e){return e.filter})),c=t.query,a=t.status,s=M(),r=R((function(e){return e.currentTodo})),l=Object(A.useMemo)((function(){return e.data.filter((function(e){var t=e.completed;switch(a){case n.ALL:return!0;case n.COMPLETED:return t;case n.ACTIVE:return!t;default:return!0}})).filter((function(e){return!c||e.title.toLowerCase().includes(c.toLowerCase())}))}),[c,a,e]);return Object(D.jsx)(D.Fragment,{children:l.length?Object(D.jsxs)("table",{className:"table is-narrow is-fullwidth",children:[Object(D.jsx)("thead",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{children:"#"}),Object(D.jsx)("th",{children:Object(D.jsx)("span",{className:"icon",children:Object(D.jsx)("i",{className:"fas fa-check"})})}),Object(D.jsx)("th",{children:"Title"}),Object(D.jsx)("th",{children:" "})]})}),Object(D.jsx)("tbody",{children:l.map((function(e){var t=e.id,c=e.completed,n=e.title;return Object(D.jsxs)("tr",{"data-cy":"todo",children:[Object(D.jsx)("td",{className:"is-vcentered",children:t}),Object(D.jsx)("td",{className:"is-vcentered",children:c&&Object(D.jsx)("span",{className:"icon","data-cy":"iconCompleted",children:Object(D.jsx)("i",{className:"fas fa-check"})})}),Object(D.jsx)("td",{className:"is-vcentered is-expanded",children:Object(D.jsx)("p",{className:_()({"has-text-danger":!c,"has-text-success":c}),children:n})}),Object(D.jsx)("td",{className:"has-text-right is-vcentered",children:Object(D.jsx)("button",{"data-cy":"selectButton",className:"button",type:"button",onClick:function(){return s(u(e))},children:Object(D.jsx)("span",{className:"icon",children:Object(D.jsx)("i",{className:_()("far",{"fa-eye-slash":(null===r||void 0===r?void 0:r.id)===t,"fa-eye":(null===r||void 0===r?void 0:r.id)!==t})})})})})]},t)}))})]}):Object(D.jsx)("p",{className:"notification is-warning",children:"There are no todos matching the current filter criteria"})})},P=function(){var e=M(),t=R((function(e){return e.filter})),c=t.query,a=t.status;return Object(D.jsxs)("form",{className:"field has-addons",onSubmit:function(e){return e.preventDefault()},children:[Object(D.jsx)("p",{className:"control",children:Object(D.jsx)("span",{className:"select",children:Object(D.jsxs)("select",{"data-cy":"statusSelect",value:a,onChange:function(t){e(m(t.target.value))},children:[Object(D.jsx)("option",{value:n.ALL,children:"All"}),Object(D.jsx)("option",{value:n.ACTIVE,children:"Active"}),Object(D.jsx)("option",{value:n.COMPLETED,children:"Completed"})]})})}),Object(D.jsxs)("p",{className:"control is-expanded has-icons-left has-icons-right",children:[Object(D.jsx)("input",{"data-cy":"searchInput",type:"text",className:"input",placeholder:"Search...",value:c,onChange:function(t){e(f(t.target.value))}}),Object(D.jsx)("span",{className:"icon is-left",children:Object(D.jsx)("i",{className:"fas fa-magnifying-glass"})}),Object(D.jsx)("span",{className:"icon is-right",style:{pointerEvents:"all"},children:c&&Object(D.jsx)("button",{"data-cy":"clearSearchButton",type:"button",className:"delete",onClick:function(){return e(f(""))}})})]})]})},V=(c(29),function(){return Object(D.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(D.jsx)("div",{className:"Loader__content"})})}),q=function(){var e=M(),t=R((function(e){return e.currentTodo})),c=Object(A.useState)(!1),n=Object(k.a)(c,2),a=n[0],s=n[1],r=Object(A.useState)(null),l=Object(k.a)(r,2),i=l[0],o=l[1];return Object(A.useEffect)((function(){var e;s(!0),null!==t&&void 0!==t&&t.userId&&(e=t.userId,v("/users/".concat(e))).then(o).finally((function(){return s(!1)}))}),[null===t||void 0===t?void 0:t.userId]),Object(D.jsxs)("div",{className:"modal is-active","data-cy":"modal",children:[Object(D.jsx)("div",{className:"modal-background"}),a&&Object(D.jsx)(V,{}),!a&&i&&Object(D.jsxs)("div",{className:"modal-card",children:[Object(D.jsxs)("header",{className:"modal-card-head",children:[Object(D.jsx)("div",{className:"modal-card-title has-text-weight-medium","data-cy":"modal-header",children:"Todo #".concat(null===t||void 0===t?void 0:t.id)}),Object(D.jsx)("button",{type:"button",className:"delete","data-cy":"modal-close",onClick:function(){return e(j())}})]}),Object(D.jsxs)("div",{className:"modal-card-body",children:[Object(D.jsx)("p",{className:"block","data-cy":"modal-title",children:null===t||void 0===t?void 0:t.title}),Object(D.jsxs)("p",{className:"block","data-cy":"modal-user",children:[!(null!==t&&void 0!==t&&t.completed)&&Object(D.jsx)("strong",{className:"has-text-danger",children:"Planned"}),(null===t||void 0===t?void 0:t.completed)&&Object(D.jsx)("strong",{className:"has-text-success",children:"Done"})," by ",Object(D.jsx)("a",{href:"mailto:".concat(null===i||void 0===i?void 0:i.email),children:i.name})]})]})]})]})},U=function(){var e=M(),t=R((function(e){return e.todos})),c=R((function(e){return e.currentTodo})),n=Object(A.useState)(!1),a=Object(k.a)(n,2),s=a[0],r=a[1];return Object(A.useEffect)((function(){r(!0),p().then((function(t){return e(L(t))})).finally((function(){return r(!1)}))}),[]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"section",children:Object(D.jsx)("div",{className:"container",children:Object(D.jsxs)("div",{className:"box",children:[Object(D.jsx)("h1",{className:"title",children:"Todos:"}),Object(D.jsx)("div",{className:"block",children:Object(D.jsx)(P,{})}),Object(D.jsxs)("div",{className:"block",children:[s&&Object(D.jsx)(V,{}),!s&&!!t.data.length&&Object(D.jsx)(F,{})]})]})})}),c&&Object(D.jsx)(q,{})]})},B=function(){return Object(D.jsx)(r.a,{store:w,children:Object(D.jsx)(l.a,{children:Object(D.jsx)(U,{})})})};s.a.render(Object(D.jsx)(B,{}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.06943404.chunk.js.map